<!-- <!DOCTYPE html>
<html lang="ru">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">
    {% include 'page_modules/links.html' %}
    <title>Mood Jar</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="display">
    {% include 'page_modules/menu.html' %}
    {% if message == "registration" %}
        {% include 'page_modules/menu-registration.html' %}
    {% elif message == "username" %}
        {% include 'page_modules/username.html' %}
    {% endif %}
    <div id="hot-bar">
        <div class="hot-bar-button"><EnterSvg name="users" class="hot-bar-icon"></EnterSvg></div>
        <div class="hot-bar-button"><EnterSvg name="add" class="hot-bar-icon"></EnterSvg></div>
        <a class="hot-bar-button"><EnterSvg name="settings" class="hot-bar-icon"></EnterSvg></a>
    </div>
        {% if user %}
        <h1 id="username">#{{ user[4] }}</h1>
        {% else %}
        <h1 id="username">#mood-jar</h1>
        {% endif %}
    <main>

        <div>
            <EnterSvg name="jar" class="jar"></EnterSvg>
        </div>
        <a class="button-side" open-sidebar="sidebar_settings"><EnterSvg name="settings" class="text"></EnterSvg></a>
        <a class="button-side button-left" open-sidebar="sidebar_friends"><EnterSvg name="users" class="text"></EnterSvg></a>
        <a id="open-mood" open-sidebar='sidebar_mood'>
            <div class="line"></div>
            <EnterSvg name="arrow" class="text"></EnterSvg>
            <div class="line"></div>
        </a>
    </main>


    <script>
    function logout() {
      // Удаляем куку с именем 'user'
      document.cookie = "user=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
      
      // Перенаправляем пользователя на главную страницу
      window.location.href = '/';
    }
  </script>
</body>
</html> -->



<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Наклон устройства</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        .output {
            font-size: 24px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>Наклон устройства</h1>
    <div class="output">Alpha (Z): <span id="alpha">0</span>°</div>
    <div class="output">Beta (X): <span id="beta">0</span>°</div>
    <div class="output">Gamma (Y): <span id="gamma">0</span>°</div>
    <div class="output">Общий угол наклона: <span id="angle">0</span>°</div>

    <script>
        // Для iOS браузеров необходимо запросить разрешение
        if (typeof DeviceOrientationEvent.requestPermission === 'function') {
            DeviceOrientationEvent.requestPermission()
                .then(response => {
                    if (response === 'granted') {
                        initOrientationListener();
                    } else {
                        alert('Разрешение на доступ к датчикам отклонено');
                    }
                })
                .catch(console.error);
        } else {
            // Для других браузеров можно сразу добавить слушатель
            initOrientationListener();
        }

        // Инициализация слушателя события deviceorientation
        function initOrientationListener() {
            window.addEventListener('deviceorientation', function(event) {
                var alpha = event.alpha; // угловая ориентация по оси Z
                var beta = event.beta;   // угол наклона по оси X
                var gamma = event.gamma; // угол наклона по оси Y

                // Обновляем содержимое на странице
                document.getElementById('alpha').textContent = alpha.toFixed(2);
                document.getElementById('beta').textContent = beta.toFixed(2);
                document.getElementById('gamma').textContent = gamma.toFixed(2);

                // Рассчитываем общий угол наклона
                var angle = Math.sqrt(beta * beta + gamma * gamma); // Общий угол наклона устройства
                document.getElementById('angle').textContent = angle.toFixed(2);
            });
        }
    </script>
</body>
</html>
